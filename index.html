<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>VCCW by miya0001</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>VCCW</h1>
        <h2>Vagrant for development of WordPress plugins, themes, or websites.</h2>

        <section id="downloads">
          <a href="https://github.com/miya0001/vagrant-chef-centos-wordpress/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/miya0001/vagrant-chef-centos-wordpress/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/miya0001/vagrant-chef-centos-wordpress" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="vagrant--chef--centos--wordpress" class="anchor" href="#vagrant--chef--centos--wordpress"><span class="octicon octicon-link"></span></a>vagrant + chef + centos + wordpress</h1>

<p>This is a <a href="http://www.vagrantup.com/">Vagrant</a> configuration designed for development of WordPress plugins, themes, or websites.</p>

<h2>
<a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>

<ul>
<li>This Vagrant configuration has various settings you can change:

<ul>
<li>Multisite</li>
<li>Force SSL Admin</li>
<li>Subdirectory installation (e.g. <a href="http://wordpress.local/wp/">http://wordpress.local/wp/</a>)</li>
</ul>
</li>
<li>Customizable URL (default: <a href="http://wordpress.local/">http://wordpress.local/</a>)</li>
<li>Debug mode is enabled by default</li>
<li>SSL is enabled by default</li>
<li>Automatic installation &amp; activation of plugins and themes at the time of provisioning:

<ul>
<li>default plugins: theme-check, plugin-check, dynamic-hostname</li>
<li>default theme: none</li>
</ul>
</li>
<li>Optional import of theme unit test data</li>
<li>Pre-installed <a href="http://wp-cli.org">wp-cli</a>
</li>
<li>Shares folders between Host and Guest OS</li>
</ul><h2>
<a name="requires" class="anchor" href="#requires"><span class="octicon octicon-link"></span></a>Requires</h2>

<ul>
<li>Vagrant 1.5.x or later</li>
<li>VirtualBox 4.3.x or later</li>
</ul><h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<ol>
<li>Install VirtualBox.

<ul>
<li><a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a></li>
</ul>
</li>
<li>Install Vagrant.

<ul>
<li><a href="http://www.vagrantup.com/">http://www.vagrantup.com/</a></li>
</ul>
</li>
<li>Install the vagrant-hostsupdater plugin.

<ul>
<li><code>vagrant plugin install vagrant-hostsupdater</code></li>
</ul>
</li>
<li>Clone the repository into a local directory.

<ul>
<li><code>git clone https://github.com/miya0001/vagrant-chef-centos-wordpress.git vccw</code></li>
</ul>
</li>
<li>Change into a new directory.

<ul>
<li><code>cd vccw</code></li>
</ul>
</li>
<li>Copy the default Vagrantfile.

<ul>
<li><code>cp Vagrantfile.sample Vagrantfile</code></li>
</ul>
</li>
<li>Start a Vagrant environment.

<ul>
<li><code>vagrant up</code></li>
</ul>
</li>
<li>Visit <a href="http://wordpress.local/">http://wordpress.local/</a> or <a href="http://192.168.33.10/">http://192.168.33.10/</a>
</li>
</ol><h2>
<a name="about-wordpress-environment" class="anchor" href="#about-wordpress-environment"><span class="octicon octicon-link"></span></a>About WordPress Environment</h2>

<p>This tool installs a WordPress environment with these settings by default.</p>

<ul>
<li>Default user

<ul>
<li>Username: admin</li>
<li>Password: admin</li>
</ul>
</li>
<li>Debug mode is enabled</li>
<li>Default plugins

<ul>
<li>dynamic-hostname</li>
<li>theme-check</li>
<li>plugin-check</li>
<li>wp-multibyte-patch (<code>ja</code> locale only)</li>
</ul>
</li>
</ul><h2>
<a name="customize" class="anchor" href="#customize"><span class="octicon octicon-link"></span></a>Customize</h2>

<p>This Vagrant configuration has many customizable constants.</p>

<ul>
<li>
<code>WP_VERSION = 'latest'</code>

<ul>
<li>Set the version of WordPress you want to install (WordPress 3.4 or later).</li>
<li>Default value is the <code>latest</code>.</li>
<li>Allows you to install <a href="http://wordpress.org/download/release-archive/">beta</a> releases (e.g. 3.7-beta2)</li>
</ul>
</li>
<li>
<code>WP_LANG = ""</code>

<ul>
<li>Select the <a href="http://svn.automattic.com/wordpress-i18n/">locale</a> you want to download (e.g. <code>ja</code>)</li>
<li>If you see any error, use <code>""</code>.</li>
</ul>
</li>
<li>
<code>WP_HOSTNAME = "wordpress.local"</code>

<ul>
<li>Select the hostname for the Guest OS (e.g. <code>exmaple.com</code>, <code>digitalcube.jp</code> etc.)</li>
</ul>
</li>
<li>
<code>WP_DIR = ''</code>

<ul>
<li>If you want to install WordPress in a subdirectory, set the directory name in this constant (e.g. <code>wp</code> or <code>/wp</code>)</li>
<li>http:// + <code>WP_HOSTNAME</code> + <code>WP_DIR</code> will be your WordPress URL.</li>
</ul>
</li>
<li>
<code>WP_TITLE = "Welcome to the Vagrant"</code>

<ul>
<li>The title of the new site.</li>
</ul>
</li>
<li>
<code>WP_ADMIN_USER = "admin"</code>

<ul>
<li>The default username of the new site.</li>
</ul>
</li>
<li>
<code>WP_ADMIN_PASS = "admin"</code>

<ul>
<li>The default user's password.</li>
</ul>
</li>
<li>
<code>WP_DB_PREFIX = 'wp_'</code>

<ul>
<li>Database prefix.</li>
</ul>
</li>
<li>
<code>WP_DB_HOST = 'localhost'</code>

<ul>
<li>The host name of the MySQL database.</li>
<li>'localhost' or WP_IP</li>
</ul>
</li>
<li>
<code>WP_DEFAULT_PLUGINS = %w(theme-check plugin-check dynamic-hostname)</code>

<ul>
<li>An ARRAY of plugins.</li>
<li>Use a plugin slug, local zip file path, or remote zip file URL.</li>
</ul>
</li>
<li>
<code>WP_DEFAULT_THEME = ''</code>

<ul>
<li>Default theme.</li>
<li>Use a theme slug, local zip file path, or remote zip file URL.</li>
</ul>
</li>
<li>
<code>WP_IS_MULTISITE = false</code>

<ul>
<li>If set to <code>true</code>, multisite network is installed.</li>
<li>The network uses subdirectories by default.</li>
</ul>
</li>
<li>
<code>WP_FORCE_SSL_ADMIN = false</code>

<ul>
<li>If set to <code>true</code>, administration over SSL is enabled and enforced.</li>
</ul>
</li>
<li>
<code>WP_DEBUG = true</code>

<ul>
<li>If set to <code>true</code>, debug mode is triggered (default: true).</li>
</ul>
</li>
<li>
<code>WP_THEME_UNIT_TEST = false</code>

<ul>
<li>If set to <code>true</code>, the <a href="http://codex.wordpress.org/Theme_Unit_Test">theme unit test data</a> is automatically imported.</li>
</ul>
</li>
<li>
<code>WP_ALWAYS_RESET = true</code>

<ul>
<li>If set to <code>true</code>, <code>vagrant provision</code> always resets the database.</li>
<li>You will lose all of your MySQL data when database is reset.</li>
</ul>
</li>
<li>
<code>WP_IP = "192.168.33.10"</code>

<ul>
<li>Private IP address for the Guest OS.</li>
</ul>
</li>
</ul><h3>
<a name="how-to-apply-vagrant-configuration-after-vagrant-up" class="anchor" href="#how-to-apply-vagrant-configuration-after-vagrant-up"><span class="octicon octicon-link"></span></a>How to apply Vagrant configuration after <code>vagrant up</code>
</h3>

<ol>
<li>
<code>vagrant up</code> - Start guest machine.</li>
<li>Edit Vagrantfile. (<code>WP_ALWAYS_RESET</code> should be set <code>true</code>.)</li>
<li>
<code>vagrant provision</code> - Re-Provison.</li>
<li>
<code>vagrant reload</code> - Re-Start guest machine.</li>
</ol><p>File under the wp-content directory will be not deleted.</p>

<h2>
<a name="about-wp-cli" class="anchor" href="#about-wp-cli"><span class="octicon octicon-link"></span></a>About wp-cli</h2>

<ul>
<li>
<a href="http://wp-cli.org/">wp-cli</a> is pre-installed in this Vagrant environments.</li>
<li>If you install wp-cli in your Host OS, you can fire wp-cli commands from the Host OS.</li>
</ul><h3>
<a name="example-for-wp-cli-commands" class="anchor" href="#example-for-wp-cli-commands"><span class="octicon octicon-link"></span></a>Example for wp-cli commands</h3>

<p>You have to install <a href="wp-cli.org">wp-cli</a> in your Host OS.</p>

<pre><code>$ cd www/wordpress

# Exports the database using mysqldump to Desktop.
$ wp db export ~/Desktop/export.sql

# Export content to a WXR file.
$ mkdir /Users/foo/Desktop/export
$ wp export --dir=/Users/foo/Desktop/export

# Activate the contect-form-7 plugin.
$ wp plugin install contact-form-7 --activate

# Update WordPress.
$ wp core update
</code></pre>

<h3>
<a name="about-wordpress-i18n-tools" class="anchor" href="#about-wordpress-i18n-tools"><span class="octicon octicon-link"></span></a>About WordPress i18n Tools</h3>

<p>If your plugin is not in the repository, you can use the WordPress i18n tools and then run the makepot.php script like this:</p>

<pre><code>$ makepot.php wp-plugin your-plugin-directory
</code></pre>

<p>After it's finished you should see the POT file in the current directory.</p>

<p>To generate the POT file for a theme, use:</p>

<pre><code>$ makepot.php wp-theme your-theme-directory
</code></pre>

<h2>
<a name="guest-os-environments" class="anchor" href="#guest-os-environments"><span class="octicon octicon-link"></span></a>Guest OS Environments</h2>

<ul>
<li>Allowed ports on iptables

<ul>
<li>22 - SSH</li>
<li>80 - HTTP</li>
<li>443 - HTTPS</li>
<li>3306 - MySQL (allows you to operate wp-cli from the Host OS)</li>
</ul>
</li>
<li>CentOS 6.5.x

<ul>
<li>PHP 5.4.x</li>
<li>MySQL 5.5.x</li>
<li>Apache 2.2.x</li>
</ul>
</li>
<li><a href="http://wp-cli.org/">WP-CLI</a></li>
<li><a href="http://phpunit.de/">PHPUnit</a></li>
<li><a href="http://i18n.svn.wordpress.org/tools/trunk/">WordPress i18n Tools</a></li>
<li><a href="http://gruntjs.com/">Grunt</a></li>
</ul><h2>
<a name="feedback" class="anchor" href="#feedback"><span class="octicon octicon-link"></span></a>Feedback</h2>

<p>Let me know if you have any feedback! Open a new issue if you want to share your tips or report a bug.</p>

<ul>
<li><a href="https://github.com/miya0001/vagrant-chef-centos-wordpress/issues">https://github.com/miya0001/vagrant-chef-centos-wordpress/issues</a></li>
</ul><h2>
<a name="contibutors" class="anchor" href="#contibutors"><span class="octicon octicon-link"></span></a>Contibutors</h2>

<ul>
<li><a href="https://github.com/miya0001">miya0001</a></li>
<li><a href="https://github.com/naokomc">naokomc</a></li>
<li><a href="https://github.com/keichan34">keichan34</a></li>
<li><a href="https://github.com/gatespace">gatespace</a></li>
<li><a href="https://github.com/hirayama-evolni">hirayama-evolni</a></li>
<li><a href="https://github.com/tkc49">tkc49</a></li>
</ul>
      </section>
    </div>

    
  </body>
</html>